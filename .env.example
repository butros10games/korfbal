# Core Django settings
DEBUG=false
SECRET_KEY=
ALLOWED_HOSTS=korfbal.butrosgroot.com,api.korfbal.butrosgroot.com
CSRF_TRUSTED_ORIGINS=http://localhost:8001,https://korfbal.butrosgroot.com,https://api.korfbal.butrosgroot.com

# CORS (frontend runs on web.<domain>, API runs on <domain>)
# Comma-separated.
CORS_ALLOW_ALL_ORIGINS=false
CORS_ALLOWED_ORIGINS=https://korfbal.butrosgroot.com
CORS_ALLOW_CREDENTIALS=true

# Cookie settings
SESSION_COOKIE_NAME=auth_cookie_v2
CSRF_COOKIE_NAME=korfbal_csrftoken
VITE_CSRF_COOKIE_NAME=korfbal_csrftoken
CSRF_COOKIE_SECURE=true
SESSION_COOKIE_SECURE=true
CSRF_COOKIE_DOMAIN=.korfbal.butrosgroot.com
SESSION_COOKIE_DOMAIN=.korfbal.butrosgroot.com

# Runtime behaviour
RUNNER=
SECURE_SSL_REDIRECT=true

# Database
POSTGRES_DB=Korfbal
POSTGRES_USER=butrosdata
POSTGRES_PASSWORD=
POSTGRES_HOST=192.168.2.227
POSTGRES_PORT=5432

# Redis / Cache
VALKEY_HOST=kwt-valkey
VALKEY_PORT=6379

# Email
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=true
EMAIL_USER=butrosgroot@gmail.com
EMAIL_PASSWORD=

# MinIO / S3
MINIO_URL=https://minio.butrosgroot.com:443
MINIO_PUBLIC_DOMAIN=korfbal.butrosgroot.com
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=
MINIO_ROOT_USER=butrosgroot@gmail.com
MINIO_ROOT_PASSWORD=
STATIC_BUCKET=kwt-static
MEDIA_BUCKET=kwt-media
AWS_QUERYSTRING_AUTH=true
MINIO_SCANNER_INTERVAL=12h
MINIO_SCANNER_PARALLEL=1
MINIO_MAX_LOCKS=4096
MINIO_MAX_THREADS=16

# PGAdmin
PGADMIN_DEFAULT_EMAIL=butrosgroot@gmail.com
PGADMIN_DEFAULT_PASSWORD=

# Celery
CELERY_BROKER_HOST=kwt-valkey
CELERY_BROKER_PORT=6379
CELERY_RESULT_HOST=kwt-valkey
CELERY_RESULT_PORT=6379
CELERY_TASK_ALWAYS_EAGER=false

# Spotify integration
SPOTIFY_CLIENT_ID=
SPOTIFY_CLIENT_SECRET=
SPOTIFY_REDIRECT_URI=https://korfbal.butrosgroot.com/api/player/spotify/callback/

# Korfbal performance tuning (optional)
# Keep request latency predictable by default.
KORFBAL_ENABLE_IMPACT_AUTO_RECOMPUTE=true
# Hard-capped in code (max 3). Set >0 only when you explicitly want requests to
# self-heal missing/outdated impacts.
KORFBAL_IMPACT_AUTO_RECOMPUTE_LIMIT=0

# Slow SQL logging (opt-in). Logs the slowest queries per request.
KORFBAL_LOG_SLOW_DB_QUERIES=true
KORFBAL_SLOW_DB_QUERY_MS=200
# When enabled, slow query entries include SQL + params (staff-only endpoint).
KORFBAL_SLOW_DB_INCLUDE_SQL=false

# Slow request surfacing (opt-in).
# Adds lightweight timing headers and keeps a rolling in-cache buffer that can
# be viewed at: /api/debug/slow-requests/ (staff-only)
KORFBAL_LOG_SLOW_REQUESTS=false
KORFBAL_SLOW_REQUEST_MS=500
KORFBAL_SLOW_REQUEST_BUFFER_SIZE=200
KORFBAL_SLOW_REQUEST_BUFFER_TTL_S=86400

# Goal-song downloads (spotDL)
# spotDL can occasionally take a long time due to upstream rate limiting/search.
# Default in code is 900 seconds.
SPOTDL_DOWNLOAD_TIMEOUT_SECONDS=900

# If a download gets stuck (e.g. worker restarted), reclaim after this many seconds.
# Default in code is SPOTDL_DOWNLOAD_TIMEOUT_SECONDS + 60.
SPOTDL_STALE_IN_PROGRESS_SECONDS=960

# Web push notifications (PWA)
# Generate keys with e.g. https://github.com/web-push-libs/web-push#generate-vapid-keys
WEBPUSH_VAPID_PUBLIC_KEY=
WEBPUSH_VAPID_PRIVATE_KEY=
WEBPUSH_VAPID_SUBJECT=mailto:butrosgroot@gmail.com
WEBPUSH_TTL_SECONDS=3600

# Frontend build/runtime env (Vite)
CHOKIDAR_USEPOLLING=true
VITE_API_BASE_URL=https://api.korfbal.butrosgroot.com/api
VITE_USE_MOCK_API=false
VITE_HMR_HOST=korfbal.butrosgroot.com
VITE_HMR_PROTOCOL=wss
VITE_HMR_CLIENT_PORT=443
VITE_VAPID_PUBLIC_KEY=
