{
    "name": "korfbal-django",
    "$schema": "../../../../node_modules/nx/schemas/project-schema.json",
    "projectType": "application",
    "sourceRoot": "apps/django_projects/korfbal",
    "tags": ["python", "django"],
    "implicitDependencies": [
        "bg-auth",
        "bg-django-caching-paginator",
        "bg-django-mobile-detector",
        "bg-uuidv7"
    ],
    "targets": {
        "lint": {
            "executor": "nx:run-commands",
            "inputs": ["python", "sharedGlobals"],
            "options": {
                "command": "uv run ruff format --check apps/django_projects/korfbal && uv run ruff check apps/django_projects/korfbal"
            }
        },
        "lint-fix": {
            "executor": "nx:run-commands",
            "inputs": ["python", "sharedGlobals"],
            "options": {
                "command": "uv run ruff check --fix apps/django_projects/korfbal"
            }
        },
        "typecheck": {
            "executor": "nx:run-commands",
            "inputs": ["python", "sharedGlobals"],
            "options": {
                "command": "uv run ty check apps/django_projects/korfbal"
            }
        },
        "test": {
            "executor": "nx:run-commands",
            "inputs": ["python", "sharedGlobals"],
            "options": {
                "command": "uv run pytest -n auto --dist loadgroup apps/django_projects/korfbal"
            },
            "configurations": {
                "ci": {
                    "command": "PYTHONPATH=.:${PYTHONPATH} PYTEST_ADDOPTS=\"${PYTEST_ADDOPTS} --cov-report=xml:reports/coverage/coverage-korfbal.xml\" uv run pytest -p configs.pytest_plugins.django_projects --django-project korfbal -n auto --dist loadgroup apps/django_projects/korfbal"
                }
            }
        },
        "test:profile": {
            "executor": "nx:run-commands",
            "inputs": ["python", "sharedGlobals"],
            "options": {
                "command": "uv run pytest -n auto --dist loadgroup --durations=25 --durations-min=0.2 apps/django_projects/korfbal"
            }
        },
        "build": {
            "executor": "nx:run-commands",
            "inputs": ["python", "sharedGlobals"],
            "options": {
                "command": "uv run python -m compileall apps/django_projects/korfbal"
            }
        },
        "format": {
            "executor": "nx:run-commands",
            "inputs": ["python", "sharedGlobals"],
            "options": {
                "command": "uv run ruff format apps/django_projects/korfbal"
            }
        },
        "format-check": {
            "executor": "nx:run-commands",
            "inputs": ["python", "sharedGlobals"],
            "options": {
                "command": "uv run ruff format --check apps/django_projects/korfbal"
            }
        },
        "docker-uwsgi": {
            "executor": "nx:run-commands",
            "cache": false,
            "options": {
                "command": "docker build -t kwt-uwsgi:latest -f apps/django_projects/korfbal/docker/kwt-uwsgi.Dockerfile apps/django_projects/korfbal"
            }
        },
        "docker-collectstatic": {
            "executor": "nx:run-commands",
            "cache": false,
            "options": {
                "command": "docker build -t kwt-collectstatic:latest -f apps/django_projects/korfbal/docker/kwt-collectstatic.Dockerfile apps/django_projects/korfbal"
            }
        },
        "docker-celery": {
            "executor": "nx:run-commands",
            "cache": false,
            "options": {
                "command": "docker build -t kwt-celery:latest -f apps/django_projects/korfbal/docker/kwt-celery.Dockerfile apps/django_projects/korfbal"
            }
        }
    }
}
